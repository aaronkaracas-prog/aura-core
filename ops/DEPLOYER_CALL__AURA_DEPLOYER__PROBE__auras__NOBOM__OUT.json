{"ok":true,"reply":"[\n  {\n    \"cmd\": \"DEPLOYER_CALL\",\n    \"payload\": {\n      \"service\": \"AURA_DEPLOYER\",\n      \"path\": \"/\",\n      \"http_status\": 200,\n      \"content_type\": \"text/html; charset=utf-8\",\n      \"out\": \"<!doctype html>\\n<html lang=\\\"en\\\">\\n<head>\\n<meta charset=\\\"utf-8\\\" />\\n<meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\" />\\n<title>Aura Core UI</title>\\n<style>\\n  :root{\\n    --bg:#070a12; --panel:#0e1424; --panel2:#0b1020;\\n    --text:#e8ecff; --muted:#9aa5c7; --line:rgba(255,255,255,.10);\\n    --accent:#6d5efc; --good:#48d597; --bad:#ff5c7a;\\n  }\\n  *{box-sizing:border-box}\\n  body{\\n    margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, \\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\";\\n    background: radial-gradient(1200px 600px at 30% 10%, rgba(109,94,252,.18), transparent 60%),\\n                radial-gradient(900px 500px at 80% 30%, rgba(72,213,151,.10), transparent 55%),\\n                var(--bg);\\n    color:var(--text); height:100vh; display:flex; align-items:center; justify-content:center;\\n  }\\n  .wrap{ width:min(980px, 96vw); height:min(720px, 92vh); display:flex; flex-direction:column; gap:12px; }\\n  .topbar{\\n    display:flex; align-items:flex-start; justify-content:space-between; gap:16px;\\n    padding:14px 16px; border:1px solid var(--line); border-radius:16px;\\n    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));\\n    box-shadow: 0 10px 30px rgba(0,0,0,.35);\\n  }\\n  .brand{ display:flex; flex-direction:column; gap:2px; }\\n  .brand .h{ font-size:18px; font-weight:700; letter-spacing:.2px; }\\n  .brand .s{ font-size:12px; color:var(--muted); }\\n  .meta{\\n    display:flex; flex-direction:column; align-items:flex-end; gap:4px;\\n    font-size:12px; color:var(--muted);\\n  }\\n  .meta .row{ display:flex; gap:10px; align-items:center; }\\n  .dot{ width:8px; height:8px; border-radius:50%; background:var(--good); box-shadow:0 0 0 3px rgba(72,213,151,.14); }\\n  .panel{\\n    flex:1; min-height:0;\\n    border:1px solid var(--line); border-radius:16px;\\n    background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));\\n    box-shadow: 0 10px 30px rgba(0,0,0,.35);\\n    display:flex; flex-direction:column;\\n  }\\n  .log{\\n    flex:1; min-height:0;\\n    padding:14px; overflow:auto;\\n    display:flex; flex-direction:column; gap:10px;\\n  }\\n  .msg{\\n    max-width: 90%;\\n    border:1px solid var(--line);\\n    background: rgba(7,10,18,.35);\\n    padding:10px 12px; border-radius:14px;\\n    white-space:pre-wrap; word-break:break-word; line-height:1.35;\\n  }\\n  .msg.me{ align-self:flex-end; background: rgba(109,94,252,.16); border-color: rgba(109,94,252,.35); }\\n  .msg.aura{ align-self:flex-start; background: rgba(255,255,255,.04); }\\n  .msg.sys{ align-self:center; max-width:100%; color:var(--muted); background: transparent; border:none; padding:0; }\\n  .msg.error{ border-color: rgba(255,92,122,.45); background: rgba(255,92,122,.10); }\\n  .composer{\\n    border-top:1px solid var(--line);\\n    padding:12px;\\n    display:flex; gap:10px; align-items:flex-end;\\n    background: rgba(0,0,0,.12);\\n    border-bottom-left-radius:16px; border-bottom-right-radius:16px;\\n  }\\n  textarea{\\n    flex:1; min-height:44px; max-height:140px; resize:vertical;\\n    padding:10px 12px; border-radius:12px; outline:none;\\n    border:1px solid var(--line);\\n    background: rgba(0,0,0,.22);\\n    color:var(--text); font-size:14px; line-height:1.35;\\n  }\\n  textarea::placeholder{ color: rgba(154,165,199,.70); }\\n  button{\\n    height:44px; padding:0 16px; border-radius:12px; cursor:pointer;\\n    border:1px solid rgba(109,94,252,.55);\\n    background: linear-gradient(180deg, rgba(109,94,252,.95), rgba(109,94,252,.78));\\n    color:#fff; font-weight:700; letter-spacing:.2px;\\n    box-shadow: 0 10px 20px rgba(109,94,252,.22);\\n  }\\n  button:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none; }\\n  .hint{\\n    font-size:12px; color:var(--muted); padding:0 12px 12px 12px;\\n  }\\n  code.k{ color:#c7cffc; }\\n</style>\\n</head>\\n<body>\\n  <div class=\\\"wrap\\\">\\n    <div class=\\\"topbar\\\">\\n      <div class=\\\"brand\\\">\\n        <div class=\\\"h\\\">Aura Core</div>\\n        <div class=\\\"s\\\">UI route: <code class=\\\"k\\\">/ui</code> ??? POST <code class=\\\"k\\\">/chat</code></div>\\n      </div>\\n      <div class=\\\"meta\\\">\\n        <div class=\\\"row\\\"><span class=\\\"dot\\\"></span><span id=\\\"status\\\">Ready</span></div>\\n        <div class=\\\"row\\\"><span>Build:</span><span id=\\\"build\\\">???</span></div>\\n        <div class=\\\"row\\\"><span>Stamp:</span><span id=\\\"stamp\\\">???</span></div>\\n        <div class=\\\"row\\\"><span>Local:</span><span id=\\\"localtime\\\">???</span></div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"panel\\\">\\n      <div id=\\\"log\\\" class=\\\"log\\\"></div>\\n      <div class=\\\"composer\\\">\\n        <textarea id=\\\"input\\\" placeholder=\\\"Type a command (e.g., PING). Enter = send, Shift+Enter = newline\\\"></textarea>\\n        <button id=\\\"send\\\">Send</button>\\n      </div>\\n      <div class=\\\"hint\\\">\\n        Tip: Prefer batch mode via PowerShell for multi-line ops. UI is for quick interactive checks.\\n      </div>\\n    </div>\\n  </div>\\n\\n<script>\\n(function(){\\n  const log = document.getElementById('log');\\n  const input = document.getElementById('input');\\n  const sendBtn = document.getElementById('send');\\n  const statusEl = document.getElementById('status');\\n  const buildEl = document.getElementById('build');\\n  const stampEl = document.getElementById('stamp');\\n  const localEl = document.getElementById('localtime');\\n\\n  function nowLocal(){\\n    try { return new Date().toLocaleString(); } catch(e){ return String(new Date()); }\\n  }\\n  function setStatus(t, isError){\\n    statusEl.textContent = t;\\n    statusEl.style.color = isError ? 'var(--bad)' : 'var(--text)';\\n  }\\n  function addMsg(kind, text, opts){\\n    const d = document.createElement('div');\\n    d.className = 'msg ' + kind + (opts && opts.error ? ' error' : '');\\n    d.textContent = text;\\n    log.appendChild(d);\\n    log.scrollTop = log.scrollHeight;\\n  }\\n\\n  async function postChat(raw){\\n    const r = await fetch('/chat', {\\n      method:'POST',\\n      headers:{ 'content-type':'text/plain; charset=utf-8' },\\n      body: raw\\n    });\\n    const txt = await r.text();\\n    // Worker may return JSON or plain text\\n    try { return JSON.parse(txt); } catch(e){ return { ok:false, reply: txt }; }\\n  }\\n\\n  async function run(cmd){\\n    const trimmed = (cmd || '').trim();\\n    if(!trimmed) return;\\n    addMsg('me', trimmed);\\n    input.value = '';\\n    sendBtn.disabled = true;\\n    setStatus('Working???', false);\\n    try{\\n      const res = await postChat(trimmed);\\n      if(res && typeof res === 'object'){\\n        if(res.ok){\\n          const reply = res.reply;\\n          if(typeof reply === 'string'){\\n            addMsg('aura', reply);\\n          }else{\\n            addMsg('aura', JSON.stringify(reply, null, 2));\\n          }\\n          setStatus('Ready', false);\\n        }else{\\n          addMsg('aura', (res.reply ? (typeof res.reply === 'string' ? res.reply : JSON.stringify(res.reply, null, 2)) : 'ERROR'), {error:true});\\n          setStatus('Error', true);\\n        }\\n      }else{\\n        addMsg('aura', String(res), {error:true});\\n        setStatus('Error', true);\\n      }\\n    }catch(err){\\n      addMsg('aura', 'UI ERROR: ' + (err && err.message ? err.message : String(err)), {error:true});\\n      setStatus('Error', true);\\n    }finally{\\n      sendBtn.disabled = false;\\n      input.focus();\\n    }\\n  }\\n\\n  // Enter-to-send\\n  input.addEventListener('keydown', (e)=>{\\n    if(e.key === 'Enter' && !e.shiftKey){\\n      e.preventDefault();\\n      run(input.value);\\n    }\\n  });\\n  sendBtn.addEventListener('click', ()=> run(input.value));\\n\\n  // Boot\\n  localEl.textContent = nowLocal();\\n  setInterval(()=>{ localEl.textContent = nowLocal(); }, 1000);\\n\\n  addMsg('sys', 'Connected. Type a command below (e.g., PING).');\\n\\n  // Pull build/stamp once\\n  (async ()=>{\\n    try{\\n      const res = await postChat('SHOW_BUILD');\\n      if(res && res.ok && res.reply && res.reply.build){\\n        buildEl.textContent = res.reply.build;\\n        stampEl.textContent = res.reply.stamp || '???';\\n      }else{\\n        buildEl.textContent = 'unknown';\\n        stampEl.textContent = '???';\\n      }\\n    }catch(e){\\n      buildEl.textContent = 'unknown';\\n      stampEl.textContent = '???';\\n    }\\n  })();\\n})();\\n</script>\\n</body>\\n</html>\"\n    }\n  },\n  {\n    \"cmd\": \"DEPLOYER_CALL\",\n    \"payload\": {\n      \"service\": \"AURA_DEPLOYER\",\n      \"path\": \"/health\",\n      \"http_status\": 404,\n      \"content_type\": \"text/plain;charset=utf-8\",\n      \"out\": \"Not Found\"\n    }\n  },\n  {\n    \"cmd\": \"DEPLOYER_CALL\",\n    \"payload\": {\n      \"service\": \"AURA_DEPLOYER\",\n      \"path\": \"/status\",\n      \"http_status\": 404,\n      \"content_type\": \"text/plain;charset=utf-8\",\n      \"out\": \"Not Found\"\n    }\n  },\n  {\n    \"cmd\": \"DEPLOYER_CALL\",\n    \"payload\": {\n      \"service\": \"AURA_DEPLOYER\",\n      \"path\": \"/help\",\n      \"http_status\": 404,\n      \"content_type\": \"text/plain;charset=utf-8\",\n      \"out\": \"Not Found\"\n    }\n  }\n]"}